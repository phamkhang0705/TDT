if(String.prototype.matchAll=function(a){var b=[];return this.replace(a,function(){var a=[].slice.call(arguments,0),c=a.splice(-2);a.index=c[0],a.input=c[1],b.push(a)}),b.length?b:null},!window.admicro_cpa_q||window.admicro_cpa_q instanceof Array||!window.admicro_cpa_f){var admDomain="//media1.admicro.vn/cpa",oldQueue=window.admicro_cpa_q||[],cpabd_param=cpabd_param||[];window.admicro_cpa_q=function(){var a={site:"default",jsFile:admDomain+"/tp2.js",bodyReady:!1,domReady:!1,queue:[]},b={},c=function(){e({event:"admTracking",callback:d})},d=function(){a.site=document.location.host,a.site=a.site.replace(/www./gi,"");for(var b=[],c=a.queue,d=0;d<c.length;++d){var f=c[d];f&&"[object Object]"===f.toString()&&e(f,d,c,b)}var c=document.createElement("script");switch(c.setAttribute("async","true"),c.setAttribute("type","text/javascript"),a.site){case"lazada.vn":var g=[];g.push({path:"/cart/tracking/",regex:!1,rtg_id:1}),g.push({path:/^\/checkout\/step\/[\w-\/]+/g,regex:!0}),g.push({path:"/checkout/success/",regex:!1,rtg_id:2}),g.push({path:"/catalog/",regex:!1,rtg_id:3,success:!1}),e({event:"checkSuccess",value:g}),c.setAttribute("src",admDomain+"/js-custom/lazada.vn.js?t="+(new Date).getTime());break;case"yes24.vn":var g=[];g.push({path:"/Order/GuestOrderPayment.aspx",regex:!1,rtg_id:1}),g.push({path:"/Order/OrderPayment.aspx",regex:!1,rtg_id:1}),g.push({path:"/Order/OrderComplete.aspx",regex:!1,rtg_id:2}),e({event:"checkSuccess",value:g}),c.setAttribute("src",admDomain+"/js-custom/yes24.vn.js?t="+(new Date).getTime());break;case"muachung.vn":var g=[];g.push({path:"/thanh-toan-gio-hang.html",regex:!1}),g.push({path:"/thanh-toan.html",regex:!1,rtg_id:2}),e({event:"checkSuccess",value:g}),e({event:"checkRetargeting",value:[{path:"/tim-kiem.html",regex:!1,rtg_id:3}]}),c.setAttribute("src",admDomain+"/js-custom/muachung.vn.js?t="+(new Date).getTime());break;case"plaza.muachung.vn":e({event:"checkRetargeting",value:[{path:"/cart/add",regex:!1,rtg_id:3}]}),c.setAttribute("src",admDomain+"/js-custom/plaza.muachung.vn.js?t="+(new Date).getTime());break;case"www.nguyenkim.com":case"nguyenkim.com":var g=[];g.push({path:/\?dispatch\=profiles\.success_add/g,regex:!0}),g.push({path:/\?dispatch\=checkout\.checkout/g,regex:!0,rtg_id:1}),g.push({path:/\?dispatch\=orders\.details\&order_id=[0-9]+/g,regex:!0,rtg_id:2}),e({event:"checkSuccess",value:g,type:1}),c.setAttribute("src",admDomain+"/js-custom/nguyenkim.com.js?t="+(new Date).getTime());break;case"khuyenmai.saocombank.com.js":c.setAttribute("src",admDomain+"/js-custom/"+a.site+".js?t="+(new Date).getTime());break;default:c.setAttribute("src",a.jsFile)}e({event:"appendJs",element:c})},e=function(c,d,f,g){switch(c.event=c.event.toLowerCase(),c.event){case"loadextension":var h=document.createElement("script");h.setAttribute("async","true"),h.setAttribute("type","text/javascript"),h.setAttribute("src",admDomain+"/js-custom/"+a.site+".js?t="+(new Date).getTime()),e({event:"appendJs",element:h});break;case"settrackingid":cpabd_param.iid=c.id;break;case"setsuccess":cpabd_param.s=c.value;break;case"setvalue":if("undefined"!=typeof _cpabd){var i="undefined"!=typeof c.order?c.order:(new Date).getTime()+"-"+_cpabd.getRandom();_cpabd.setValue(encodeURIComponent(c.value),i)}else{var i="undefined"!=typeof c.order?c.order:(new Date).getTime();cpabd_param.value=encodeURIComponent(c.value)+"###"+i}break;case"setstepid":cpabd_param.st=c.value;break;case"setstepvalue":"undefined"!=typeof _cpabd?_cpabd.setStepValue(encodeURIComponent(c.value)):cpabd_param.step_value=c.value;break;case"checksuccess":cpabd_param.s=0;var j="undefined"!=typeof c.type?c.type:0,k=document.location.pathname;k=1==j?document.location.href:k.split("?")[0];for(var l=0;l<c.value.length;l++)if(0==c.value[l].regex&&k==c.value[l].path||1==c.value[l].regex&&1==c.value[l].path.test(k))return"undefined"!=typeof c.value[l].success&&1!=c.value[l].success||(cpabd_param.s=1),"undefined"!=typeof c.value[l].rtg_id&&(cpabd_param.rtg_id=parseInt(c.value[l].rtg_id)),1;break;case"retargeting":var m=setInterval(function(){if("undefined"!=typeof window.ADS_CPA_CHECKER){var a=0;a="undefined"==typeof c.action_id?"undefined"!=typeof cpabd_param.rtg_id?cpabd_param.rtg_id:a:parseInt(c.action_id),_cpabd.cpabd_param.rtg_id=a,_cpabd.retargetingCreate(c.id,a),clearInterval(m)}},500);break;case"checkretargeting":var k=document.location.pathname;k=k.split("?")[0];for(var l=0;l<c.value.length;l++)if(0==c.value[l].regex&&k==c.value[l].path||1==c.value[l].regex&&1==c.value[l].path.test(k)){var f="undefined"!=typeof c.value[l].rtg_id?parseInt(c.value[l].rtg_id):0;cpabd_param.rtg_id=f}break;case"analytics":var n="undefined"!=typeof c.domain?c.domain:null,o="undefined"!=typeof c.id?c.id:null;if(null!=n&&null!=o){window.admicro_analytics_q=window.admicro_analytics_q||[],window.admicro_analytics_q.push({event:"pageviews",domain:n,id:o});var p=document.createElement("script");p.type="text/javascript",p.async=!0,p.src="//media1.admicro.vn/core/analytics.js";var q=document.getElementsByTagName("script")[0];typeof("undefined"!=c.callback)&&(p.onload=c.callback,p.onreadystatechange=function(){4!=p.readyState&&"complete"!=p.readyState||c.callback()}),document.getElementsByTagName("head")[0].appendChild(p)}break;case"setorder":var r="undefined"!=typeof c.order_id?c.order_id:(new Date).getTime();cpabd_param.value=encodeURIComponent(c.value)+"###"+r,"lazada.vn"==c.value&&(a.site="lazada.vn");break;case"appendjs":if("undefined"==typeof window.ADS_CPA_CHECKER&&c.element&&c.element.tagName)if(b.container||"script"!==c.element.tagName.toLowerCase()){if(!b.container)return 0;b.container.appendChild(c.element)}else d=document.getElementsByTagName("script")[0],c.element.setAttribute("data-owner","admicro-tag"),d.parentNode.insertBefore(c.element,d);return 1;case"startstep":var s="undefined"!=typeof c.auto?c.auto:1;try{_cpabd.step(s),a.queue=[]}catch(a){}break;case"start":var s="undefined"!=typeof c.auto?c.auto:1;try{_cpabd.start(s),a.queue=[]}catch(a){}break;case"admtracking":if("undefined"==typeof ADM_AdsTracking){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//media1.admicro.vn/core/adm_tracking.js";var q=document.getElementsByTagName("script")[0];typeof("undefined"!=c.callback)&&(t.onload=c.callback,t.onreadystatechange=function(){4!=t.readyState&&"complete"!=t.readyState||c.callback()}),document.getElementsByTagName("head")[0].appendChild(t)}else"undefined"!=c.callback,c.callback();break;case"pson-offers":if("undefined"==typeof window.ADS_PSON_OFFERS_CHECKER){var u=document.createElement("script");u.type="text/javascript",u.async=!0,u.setAttribute("id","admicro-pson-offers"),u.src=admDomain+"/pson-offers/core.js?app_id="+c.app_id+"&append_body=false&t="+(new Date).getTime();var q=document.getElementsByTagName("script")[0];q.parentNode.insertBefore(u,q)}break;case"map-user":var v="undefined"!=typeof c.id?c.id:null,w=c.source,x="undefined"==typeof c.device?0:c.device;if(null!=v&&""!=v&&""!=w){var f=new Image,y="//lg.logging.admicro.vn/mapid?uid="+v+"&src="+w;y+=1==x?"&m=1":"",f.src=y}}return 1};return a.queue=[],window.admicro_cpa_f=d,function(a){!function b(){document.body?setTimeout(a,0):setTimeout(b,100)}()}(function(){a.bodyReady=!(b.onInitialized instanceof Function)||b.onInitialized(a,b),c()}),{push:function(){for(var b=0;b<arguments.length;++b)a.queue.push(arguments[b])}}}(),window.admicro_cpa_q.push.apply(window.admicro_cpa_q,oldQueue)}